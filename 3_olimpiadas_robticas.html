<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>3¬∫ Olimpiadas rob√≥ticas | Formaci√≥n en Centros - Ceip Joaqu√≠n Tena Artigas </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Ceip Joaqu√≠n Tena Artigas de Alcolea (C√≥rdoba)" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.9 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-21"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegaci√≥n</a></p>
<header id="header" ><div id="headerContent">Formaci√≥n en Centros - Ceip Joaqu√≠n Tena Artigas</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Inicio</a></li>
   <li><a href="formacin_en_centros_2425.html" class="daddy">Formaci√≥n en Centros 24-25</a>
   <ul class="other-section">
      <li><a href="itinerario_infantil.html" class="no-ch">Itinerario Infantil</a></li>
      <li><a href="itinerario_1_ciclo.html" class="no-ch">Itinerario 1¬∫ Ciclo</a></li>
      <li><a href="itinerario_2_ciclo.html" class="no-ch">Itinerario 2¬∫ Ciclo</a></li>
      <li><a href="itinerario_3_ciclo.html" class="no-ch">Itinerario 3¬∫ Ciclo</a></li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="formacin_en_centros_2526.html" class="current-page-parent daddy">Formaci√≥n en Centros 25-26</a>
   <ul>
      <li><a href="infantil.html" class="no-ch">Infantil</a></li>
      <li><a href="1_razonamiento_matemtico.html" class="no-ch">1¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="1_el_huerto_mgico.html" class="no-ch">1¬∫ El Huerto M√°gico</a></li>
      <li><a href="1_comprensin_lectora.html" class="no-ch">1¬∫ Comprensi√≥n lectora</a></li>
      <li><a href="2_razonamiento_matemtico.html" class="no-ch">2¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="2_viaje_a_marte.html" class="no-ch">2¬∫ Viaje a Marte</a></li>
      <li><a href="3_razonamiento_matemtico.html" class="no-ch">3¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="seccin.html" class="no-ch">Secci√≥n</a></li>
      <li id="active"><a href="3_olimpiadas_robticas.html" class="active no-ch">3¬∫ Olimpiadas rob√≥ticas</a></li>
      <li><a href="4_razonamiento_matemtico.html" class="no-ch">4¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="4_aventura_submarina.html" class="no-ch">4¬∫ Aventura submarina</a></li>
      <li><a href="5_razonamiento_matemtico.html" class="no-ch">5¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="seccin0.html" class="no-ch">Secci√≥n</a></li>
      <li><a href="6_razonamiento_matemtico.html" class="no-ch">6¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="seccin1.html" class="no-ch">Secci√≥n</a></li>
   </ul>
   </li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="seccin.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="4_razonamiento_matemtico.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">3¬∫ Olimpiadas rob√≥ticas</h1></header>
<article class="iDevice_wrapper textIdevice" id="id53">
<div class="iDevice emphasis0" >
<div id="ta53_154_2" class="block iDevice_content">
<div class="exe-text"><p></p>
<style>
    /* IMPORTACI√ìN DE FUENTES */
    @font-face {
        font-family: 'Escolar';
        src: url('Escolar_G.TTF') format('truetype');
        font-weight: normal;
    }
    @font-face {
        font-family: 'Escolar';
        src: url('Escolar_N.TTF') format('truetype');
        font-weight: bold;
    }

    :root {
        --primary: #4834d4; /* Deep Indigo */
        --secondary: #686de0; /* Soft Blue */
        --accent: #f0932b; /* Orange */
        --correct: #6ab04c; /* Green */
        --wrong: #eb4d4b; /* Red */
        --bg: #130f40; /* Dark Blue Background */
        --text: #ffffff;
    }

    * { box-sizing: border-box; user-select: none; }

    body {
        font-family: 'Escolar', 'Comic Sans MS', sans-serif;
        background-color: var(--bg);
        background-image: 
            radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 20%),
            radial-gradient(circle at 90% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 20%);
        margin: 0;
        padding: 20px; /* Un poco de padding para separar del borde */
        color: var(--text);
        display: flex;
        justify-content: center;
        align-items: flex-start; /* Alineaci√≥n superior para permitir scroll */
        min-height: 100vh;
        /* overflow: hidden; ELIMINADO para permitir scroll */
    }

    .game-container {
        width: 100%;
        max-width: 900px;
        /* height: 100vh; ELIMINADO altura fija */
        min-height: 80vh; /* Altura m√≠nima est√©tica */
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        border: 2px solid rgba(255,255,255,0.1);
        display: flex;
        flex-direction: column;
        position: relative;
        /* overflow: hidden; ELIMINADO */
        box-shadow: 0 0 50px rgba(0,0,0,0.5);
        margin-bottom: 50px; /* Espacio final para scroll c√≥modo */
    }

    /* PANTALLAS - CAMBIO A DISPLAY FLEX/NONE PARA FLUJO NATURAL */
    .screen {
        /* position: absolute; ELIMINADO */
        width: 100%; 
        min-height: 600px; /* Altura m√≠nima para centrar contenido */
        display: none; /* Oculto por defecto */
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 20px;
        /* Eliminamos transici√≥n de opacidad para evitar conflictos con display */
    }

    .screen.active {
        display: flex; /* Se muestra y ocupa espacio real */
        /* opacity: 1; pointer-events: all; z-index: 10; ELIMINADO */
    }

    /* INICIO */
    h1 {
        font-size: 3.5rem;
        text-align: center;
        color: var(--accent);
        text-shadow: 0 5px 0 #d35400;
        margin-bottom: 10px;
        line-height: 1.1;
    }

    .intro-text {
        font-size: 1.5rem;
        text-align: center;
        margin-bottom: 40px;
        max-width: 600px;
    }

    .btn-start {
        background: var(--correct);
        color: white;
        border: none;
        padding: 20px 60px;
        font-size: 2rem;
        border-radius: 50px;
        font-family: 'Escolar', sans-serif;
        font-weight: bold;
        cursor: pointer;
        box-shadow: 0 8px 0 #487830;
        transition: transform 0.1s;
        animation: pulse 2s infinite;
    }

    .btn-start:active {
        transform: translateY(4px);
        box-shadow: 0 4px 0 #487830;
    }

    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }

    /* JUEGO */
    .top-bar {
        width: 100%;
        display: flex;
        justify-content: space-between;
        padding: 10px 20px;
        font-size: 1.5rem;
        background: rgba(0,0,0,0.2);
        border-radius: 20px 20px 0 0;
    }

    .score-box { color: var(--accent); font-weight: bold; }
    .streak-box { color: #ffeb3b; display: none; }

    .timer-bar-bg {
        width: 100%;
        height: 15px;
        background: rgba(255,255,255,0.1);
    }

    .timer-bar-fill {
        height: 100%;
        background: var(--secondary);
        width: 100%;
        transition: width 0.1s linear;
    }

    .question-box {
        background: white;
        color: #333;
        padding: 30px;
        border-radius: 15px;
        margin: 20px;
        text-align: center;
        font-size: 1.8rem;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        width: 90%;
        position: relative;
    }

    .grid-options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        width: 90%;
        margin-bottom: 20px;
    }

    /* Media Query para m√≥viles: Botones en una columna si es estrecho */
    @media (max-width: 600px) {
        .grid-options {
            grid-template-columns: 1fr;
        }
        h1 { font-size: 2.5rem; }
    }

    .option-btn {
        padding: 20px;
        font-size: 1.4rem;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-family: 'Escolar', sans-serif;
        font-weight: bold;
        color: white;
        transition: transform 0.1s, opacity 0.2s;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        text-align: left;
        position: relative;
        box-shadow: 0 6px 0 rgba(0,0,0,0.2);
        min-height: 80px; /* Altura m√≠nima para legibilidad */
    }

    .option-btn:hover { transform: translateY(-2px); filter: brightness(1.1); }
    .option-btn:active { transform: translateY(2px); box-shadow: none; }

    /* Colores estilo Kahoot */
    .opt-0 { background-color: #e61919; } /* Rojo */
    .opt-1 { background-color: #1368ce; } /* Azul */
    .opt-2 { background-color: #d89e00; } /* Amarillo */
    .opt-3 { background-color: #26890c; } /* Verde */

    .option-icon {
        background: rgba(0,0,0,0.2);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
        font-size: 1.2rem;
        flex-shrink: 0;
    }

    /* FEEDBACK - AHORA FIXED PARA QUE SE VEA SIEMPRE */
    .feedback-overlay {
        position: fixed; /* Cambiado a fixed para cubrir la ventana visible */
        top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.95);
        z-index: 100; /* Z-index alto */
        display: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
    }

    .feedback-title { font-size: 4rem; margin-bottom: 20px; font-weight: bold; }
    .feedback-score { font-size: 2rem; color: var(--accent); }
    .feedback-msg { font-size: 1.8rem; margin-top: 20px; max-width: 80%; line-height: 1.4; }

    /* FINAL */
    .podium {
        display: flex;
        align-items: flex-end;
        gap: 10px;
        margin-bottom: 40px;
    }
    
    .podium-bar {
        width: 80px;
        background: var(--secondary);
        border-radius: 10px 10px 0 0;
        display: flex;
        justify-content: center;
        align-items: flex-end;
        padding-bottom: 10px;
        font-weight: bold;
        font-size: 2rem;
    }

    .final-stats {
        background: rgba(255,255,255,0.1);
        padding: 30px;
        border-radius: 15px;
        text-align: center;
        margin-bottom: 20px;
        width: 80%;
    }

    /* ANIMACIONES */
    @keyframes shake {
        0% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        50% { transform: translateX(5px); }
        75% { transform: translateX(-5px); }
        100% { transform: translateX(0); }
    }

    .shake { animation: shake 0.3s; }

</style>
<div class="game-container"><!-- PANTALLA 1: INICIO -->
<div id="screen-start" class="screen active">
<h1>ü§ñ OLIMPIADAS ROB√ìTICAS</h1>
<p class="intro-text">¬°Bienvenido al reto final de 3¬∫ de Primaria!<br />Usa tu <strong>Pensamiento Computacional</strong> y tus <strong>Matem√°ticas</strong>.<br /><br />‚ö° ¬°Ten√©is <strong>3 minutos</strong> por pregunta!<br />üìù ¬°Usad el cuaderno para calcular!<br />üî• ¬°Consigue rachas de aciertos!</p>
<button class="btn-start" onclick="startGame()">¬°JUGAR!</button></div>
<!-- PANTALLA 2: JUEGO -->
<div id="screen-game" class="screen">
<div class="top-bar">
<div>Pregunta <span id="q-num">1</span>/10</div>
<div id="streak-display" class="streak-box">üî• Racha x<span id="streak-val">0</span></div>
<div class="score-box"><span id="score-val">0</span> Pts</div>
</div>
<div class="timer-bar-bg">
<div id="timer-bar" class="timer-bar-fill"></div>
</div>
<div class="question-box" id="question-text"><!-- Texto pregunta --></div>
<div class="grid-options" id="options-area"><!-- Botones se generan aqu√≠ --></div>
</div>
<!-- PANTALLA 3: FINAL -->
<div id="screen-end" class="screen">
<h1>üéâ ¬°MISI√ìN CUMPLIDA! üéâ</h1>
<div class="final-stats">
<p style="font-size: 1.5rem;">Puntuaci√≥n Final</p>
<div style="font-size: 5rem; color: var(--accent); font-weight: bold; margin: 10px 0;" id="final-score">0</div>
<p id="final-feedback" style="font-size: 2rem;">¬°Eres un crack!</p>
</div>
<button class="btn-start" onclick="location.reload()">Jugar de Nuevo</button></div>
<!-- FEEDBACK OVERLAY -->
<div id="feedback-overlay" class="feedback-overlay">
<div class="feedback-title" id="fb-title">¬°CORRECTO!</div>
<div class="feedback-score" id="fb-points">+0 Pts</div>
<div class="feedback-msg" id="fb-msg">Explicaci√≥n breve...</div>
</div>
</div>
<p>
<script>
    // --- DATOS DEL JUEGO ---
    const questions = [
        {
            q: "Tenemos 120 robots rojos, 230 azules y 50 verdes. Usando DESCOMPOSICI√ìN, ¬øc√≥mo sumamos mentalmente?",
            opts: [
                "(100+200) + (20+30+50) = 400",
                "120 + 230 + 50 = 390",
                "Sumar solo centenas: 300",
                "(100+200) + (20+30) = 350"
            ],
            correct: 0,
            feedback: "¬°Exacto! Sumamos centenas por un lado (300) y decenas por otro (100). Total 400."
        },
        {
            q: "Patr√≥n de entrada: üî¥ Rojo, üîµ Azul, üîµ Azul, üî¥ Rojo... ¬øDe qu√© color es el robot n¬∫ 10?",
            opts: [
                "üîµ Azul",
                "üî¥ Rojo",
                "üü¢ Verde",
                "üü° Amarillo"
            ],
            correct: 1,
            feedback: "¬°Bien visto! El patr√≥n es de 3 (Rojo, Azul, Azul). El 10¬∫ empieza ciclo nuevo, as√≠ que es Rojo."
        },
        {
            q: "ALGORITMO: El robot est√° en A1 y debe ir a C3 (moviendo solo recto). ¬øCu√°l es el c√≥digo?",
            opts: [
                "Saltar a C3",
                "1 Norte, 3 Oeste",
                "2 Este (derecha), 2 Sur (abajo)",
                "3 Sur (abajo)"
            ],
            correct: 2,
            feedback: "¬°Correcto! A -> B -> C (2 pasos Este) y 1 -> 2 -> 3 (2 pasos Sur)."
        },
        {
            q: "ABSTRACCI√ìN: Aceite marca 'SuperLube', lata plateada, vale 5‚Ç¨, necesito 8 latas. ¬øCoste total?",
            opts: [
                "13 ‚Ç¨",
                "45 ‚Ç¨",
                "No se puede saber",
                "40 ‚Ç¨"
            ],
            correct: 3,
            feedback: "¬°Eso es abstracci√≥n! Solo importan el precio (5‚Ç¨) y la cantidad (8). 5 x 8 = 40‚Ç¨."
        },
        {
            q: "L√ìGICA: Gana medalla SI (Salto > 200) Y (Aterrizaje = Perfecto). Robot C: 205 cm, Perfecto. ¬øGana?",
            opts: [
                "S√≠, gana medalla",
                "No, salt√≥ poco",
                "Depende del juez",
                "No, fall√≥ el aterrizaje"
            ],
            correct: 0,
            feedback: "¬°L√≥gica pura! 205 es mayor que 200 Y el aterrizaje fue Perfecto. Cumple ambas."
        },
        {
            q: "REPARTO: Hay 36 bater√≠as para 4 equipos. Queremos repartir igual. ¬øCu√°ntas para cada uno?",
            opts: [
                "8 bater√≠as",
                "9 bater√≠as",
                "6 bater√≠as",
                "10 bater√≠as"
            ],
            correct: 1,
            feedback: "¬°Divisi√≥n exacta! 36 dividido entre 4 es 9. (4 x 9 = 36)."
        },
        {
            q: "TIEMPO: La carrera empieza a las 11:30 y dura 45 minutos. ¬øA qu√© hora termina?",
            opts: [
                "12:00",
                "11:75",
                "12:15",
                "12:30"
            ],
            correct: 2,
            feedback: "¬°Ojo al reloj! 11:30 + 30min = 12:00. Nos quedan 15 minutos m√°s: 12:15."
        },
        {
            q: "DEBUGGING: Encuentra el error. C√°lculo del juez: 500 - 150 = 450. ¬øCu√°l es la correcci√≥n?",
            opts: [
                "Es correcto",
                "Debe ser 250",
                "Debe ser 400",
                "Debe ser 350"
            ],
            correct: 3,
            feedback: "¬°Bug encontrado! 500 - 100 = 400. 400 - 50 = 350."
        },
        {
            q: "ALGORITMO DE COSTE: 4 robots, 2 piernas cada uno. Calcetines a 3‚Ç¨ el par. ¬øPasos?",
            opts: [
                "4 robots + 3‚Ç¨",
                "4 x 3‚Ç¨ = 12‚Ç¨ (total)",
                "4 robots x 1 par = 4 pares. 4 x 3‚Ç¨ = 12‚Ç¨",
                "Dividir 4 entre 2"
            ],
            correct: 2,
            feedback: "¬°Secuenciaci√≥n perfecta! 1¬∫ Calculamos pares (4), 2¬∫ Calculamos precio (12‚Ç¨)."
        },
        {
            q: "DOS PASOS: Tienes 100‚Ç¨. Gastas 45‚Ç¨ en trofeos y 25‚Ç¨ en banderas. ¬øCu√°nto sobra?",
            opts: [
                "30 ‚Ç¨",
                "20 ‚Ç¨",
                "40 ‚Ç¨",
                "70 ‚Ç¨"
            ],
            correct: 0,
            feedback: "¬°Muy bien! Gastas 70‚Ç¨ en total (45+25). Te sobran 30‚Ç¨ (100-70)."
        }
    ];

    // --- VARIABLES DE ESTADO ---
    let currentQIndex = 0;
    let score = 0;
    let streak = 0;
    let timeLeft = 0;
    let timerInterval;
    const TIME_PER_QUESTION = 180; // 3 MINUTOS (180 segundos)
    const MAX_POINTS = 1000; // Puntos base m√°x por pregunta

    // --- ELEMENTOS DOM ---
    const screens = {
        start: document.getElementById('screen-start'),
        game: document.getElementById('screen-game'),
        end: document.getElementById('screen-end')
    };
    
    const ui = {
        qNum: document.getElementById('q-num'),
        score: document.getElementById('score-val'),
        streakBox: document.getElementById('streak-display'),
        streakVal: document.getElementById('streak-val'),
        timerBar: document.getElementById('timer-bar'),
        qText: document.getElementById('question-text'),
        optsArea: document.getElementById('options-area'),
        fbOverlay: document.getElementById('feedback-overlay'),
        fbTitle: document.getElementById('fb-title'),
        fbPoints: document.getElementById('fb-points'),
        fbMsg: document.getElementById('fb-msg'),
        finalScore: document.getElementById('final-score'),
        finalFb: document.getElementById('final-feedback')
    };

    // --- FUNCIONES DE JUEGO ---

    function showScreen(name) {
        // Ocultar todas
        Object.values(screens).forEach(s => {
            s.classList.remove('active');
            s.style.display = 'none'; // Asegurar que no ocupan espacio
        });
        // Mostrar la deseada
        const current = screens[name];
        current.style.display = 'flex';
        // Peque√±o timeout para que la clase active permita transiciones si las hubiera (opcional aqu√≠)
        setTimeout(() => current.classList.add('active'), 10);
    }

    function startGame() {
        score = 0;
        streak = 0;
        currentQIndex = 0;
        showScreen('game');
        updateStats();
        loadQuestion();
    }

    function loadQuestion() {
        if (currentQIndex >= questions.length) {
            endGame();
            return;
        }

        const q = questions[currentQIndex];
        
        // UI Updates
        ui.qNum.innerText = currentQIndex + 1;
        ui.qText.innerText = q.q;
        ui.optsArea.innerHTML = '';
        
        // Timer Reset
        timeLeft = TIME_PER_QUESTION;
        ui.timerBar.style.width = '100%';
        ui.timerBar.style.backgroundColor = '#686de0'; // Reset color
        
        // Generar botones aleatorios para que no siempre sea la misma posici√≥n
        // (Aunque para este ejemplo mantendr√© el orden para simplicidad de lectura,
        // pero en un juego real se suele barajar).
        // Aqu√≠ vamos a mantener el orden del array pero mapear el √≠ndice correcto.
        
        q.opts.forEach((optText, index) => {
            const btn = document.createElement('button');
            btn.className = `option-btn opt-${index}`;
            
            // Iconos formas geom√©tricas (tipo Kahoot)
            const shapes = ['‚ñ≤', '‚óÜ', '‚óè', '‚ñ†'];
            
            btn.innerHTML = `<div class="option-icon">${shapes[index]}</div> ${optText}`;
            btn.onclick = () => checkAnswer(index);
            ui.optsArea.appendChild(btn);
        });

        startTimer();
    }

    function startTimer() {
        clearInterval(timerInterval);
        timerInterval = setInterval(() => {
            timeLeft -= 0.1;
            const percentage = (timeLeft / TIME_PER_QUESTION) * 100;
            ui.timerBar.style.width = `${percentage}%`;

            if (percentage < 30) ui.timerBar.style.backgroundColor = '#eb4d4b'; // Rojo alerta

            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                timeOut();
            }
        }, 100);
    }

    function checkAnswer(selectedIndex) {
        clearInterval(timerInterval);
        const q = questions[currentQIndex];
        const isCorrect = selectedIndex === q.correct;

        if (isCorrect) {
            // Calcular puntos: Base + (Tiempo restante / Total) * 500
            // Kahoot formula aprox: (1 - (timeElapsed / timeAvailable) / 2) * 1000
            // Simplifiquemos: Puntos proporcionales al tiempo
            const timeRatio = timeLeft / TIME_PER_QUESTION;
            let pointsEarned = Math.round(MAX_POINTS * timeRatio);
            if (pointsEarned < 200) pointsEarned = 200; // M√≠nimo por acertar

            // Bonus de racha
            streak++;
            if (streak > 2) pointsEarned += 100;
            if (streak > 4) pointsEarned += 200;

            score += pointsEarned;
            showFeedback(true, pointsEarned, q.feedback);
        } else {
            streak = 0;
            showFeedback(false, 0, q.feedback);
        }
    }

    function timeOut() {
        streak = 0;
        showFeedback(false, 0, "¬°Se acab√≥ el tiempo! ‚è≥");
    }

    function showFeedback(isCorrect, points, msg) {
        ui.fbOverlay.style.display = 'flex';
        
        if (isCorrect) {
            ui.fbTitle.innerText = "¬°CORRECTO!";
            ui.fbTitle.style.color = "var(--correct)";
            ui.fbPoints.innerText = `+${points} Pts`;
            // Efecto racha
            if (streak > 1) ui.fbPoints.innerText += ` (Racha x${streak} üî•)`;
        } else {
            ui.fbTitle.innerText = "¬°INCORRECTO!";
            ui.fbTitle.style.color = "var(--wrong)";
            ui.fbPoints.innerText = "+0 Pts";
            // Animaci√≥n shake en la pregunta de fondo (opcional)
        }
        
        ui.fbMsg.innerText = msg;
        updateStats();

        // Esperar y pasar a la siguiente
        setTimeout(() => {
            ui.fbOverlay.style.display = 'none';
            currentQIndex++;
            loadQuestion();
        }, 3000); // 3 segundos para leer
    }

    function updateStats() {
        ui.score.innerText = score.toLocaleString();
        if (streak > 1) {
            ui.streakBox.style.display = 'block';
            ui.streakVal.innerText = streak;
        } else {
            ui.streakBox.style.display = 'none';
        }
    }

    function endGame() {
        showScreen('end');
        ui.finalScore.innerText = score.toLocaleString();
        
        let msg = "";
        if (score > 8000) msg = "¬°Nivel Legendario! üèÜ Eres un genio rob√≥tico.";
        else if (score > 5000) msg = "¬°Gran trabajo! ü•à Casi perfecto.";
        else msg = "¬°Buen intento! ü•â Sigue practicando.";
        ui.finalFb.innerText = msg;
    }

</script>
</p></div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licencia Creative Commons Reconocimiento Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="seccin.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="4_razonamiento_matemtico.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<p id="made-with-eXe"><a href="https://exelearning.net/" target="_blank" rel="noopener"><span>Creado con eXeLearning<span> (Ventana nueva)</span></span></a></p><script type="text/javascript" src="_simplepoint_js.js"></script></body></html>