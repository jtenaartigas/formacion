<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>1¬∫ Razonamiento matem√°tico | Formaci√≥n en Centros - Ceip Joaqu√≠n Tena Artigas </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Ceip Joaqu√≠n Tena Artigas de Alcolea (C√≥rdoba)" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.9 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-8"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegaci√≥n</a></p>
<header id="header" ><div id="headerContent">Formaci√≥n en Centros - Ceip Joaqu√≠n Tena Artigas</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Inicio</a></li>
   <li><a href="formacin_en_centros_2425.html" class="daddy">Formaci√≥n en Centros 24-25</a>
   <ul class="other-section">
      <li><a href="itinerario_infantil.html" class="no-ch">Itinerario Infantil</a></li>
      <li><a href="itinerario_1_ciclo.html" class="no-ch">Itinerario 1¬∫ Ciclo</a></li>
      <li><a href="itinerario_2_ciclo.html" class="no-ch">Itinerario 2¬∫ Ciclo</a></li>
      <li><a href="itinerario_3_ciclo.html" class="no-ch">Itinerario 3¬∫ Ciclo</a></li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="formacin_en_centros_2526.html" class="current-page-parent daddy">Formaci√≥n en Centros 25-26</a>
   <ul>
      <li><a href="infantil.html" class="no-ch">Infantil</a></li>
      <li id="active"><a href="1_razonamiento_matemtico.html" class="active no-ch">1¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="1_el_huerto_mgico.html" class="no-ch">1¬∫ El Huerto M√°gico</a></li>
      <li><a href="1_comprensin_lectora.html" class="daddy">1¬∫ Comprensi√≥n lectora</a>
      <ul class="other-section">
         <li><a href="1_comprensin_lectora__nivel_bajo.html" class="no-ch">1¬∫ Comprensi√≥n lectora - Nivel Bajo</a></li>
         <li><a href="1_comprensin_lectora__nivel_medio.html" class="no-ch">1¬∫ Comprensi√≥n lectora - Nivel Medio</a></li>
         <li><a href="1_comprensin_lectora__nivel_alto.html" class="no-ch">1¬∫ Comprensi√≥n lectora - Nivel Alto</a></li>
         <li><a href="lecturas_110.html" class="no-ch">Lecturas 1-10</a></li>
         <li><a href="lecturas_1120.html" class="no-ch">Lecturas 11-20</a></li>
         <li><a href="lecturas_2130.html" class="no-ch">Lecturas 21-30</a></li>
      </ul>
      </li>
      <li><a href="2_razonamiento_matemtico.html" class="no-ch">2¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="2_viaje_a_marte.html" class="no-ch">2¬∫ Viaje a Marte</a></li>
      <li><a href="2_comprensin_lectora.html" class="daddy">2¬∫ Comprensi√≥n lectora</a>
      <ul class="other-section">
         <li><a href="2_lecturas__bloque_1.html" class="no-ch">2¬∫ Lecturas - Bloque 1</a></li>
         <li><a href="2_lecturas__bloque_2.html" class="no-ch">2¬∫ Lecturas - Bloque 2</a></li>
         <li><a href="2_lecturas__bloque_3.html" class="no-ch">2¬∫ Lecturas - Bloque 3</a></li>
         <li><a href="2_lecturas__bloque_4.html" class="no-ch">2¬∫ Lecturas - Bloque 4</a></li>
         <li><a href="2_lecturas__bloque_5.html" class="no-ch">2¬∫ Lecturas - Bloque 5</a></li>
         <li><a href="2_lecturas__bloque_6.html" class="no-ch">2¬∫ Lecturas - Bloque 6</a></li>
      </ul>
      </li>
      <li><a href="3_razonamiento_matemtico.html" class="no-ch">3¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="seccin.html" class="no-ch">Secci√≥n</a></li>
      <li><a href="3_olimpiadas_robticas.html" class="no-ch">3¬∫ Olimpiadas rob√≥ticas</a></li>
      <li><a href="4_razonamiento_matemtico.html" class="no-ch">4¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="4_aventura_submarina.html" class="no-ch">4¬∫ Aventura submarina</a></li>
      <li><a href="5_razonamiento_matemtico.html" class="no-ch">5¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="5_la_mquina_del_tiempo.html" class="no-ch">5¬∫ La M√°quina del Tiempo</a></li>
      <li><a href="6_razonamiento_matemtico.html" class="no-ch">6¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="6_proyecto_final.html" class="no-ch">6¬∫ Proyecto final</a></li>
   </ul>
   </li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="infantil.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="1_el_huerto_mgico.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">1¬∫ Razonamiento matem√°tico</h1></header>
<article class="iDevice_wrapper textIdevice" id="id44">
<div class="iDevice emphasis0" >
<div id="ta44_145_2" class="block iDevice_content">
<div class="exe-text"><p></p>
<style>
    /* IMPORTACI√ìN DE FUENTES */
    @font-face {
        font-family: 'Escolar';
        src: url('Escolar_G.TTF') format('truetype');
        font-weight: normal;
    }
    @font-face {
        font-family: 'Escolar';
        src: url('Escolar_N.TTF') format('truetype');
        font-weight: bold;
    }

    :root {
        --color-facil: #00b894;
        --color-medio: #0984e3;
        --color-dificil: #d63031;
        --color-bg: #f5f6fa;
        --color-card: #ffffff;
        --text-color: #2d3436;
    }

    body {
        /* Eliminamos el centrado flex de pantalla completa que causa scroll en iframes */
        font-family: 'Escolar', 'Comic Sans MS', cursive, sans-serif;
        background-color: var(--color-bg);
        background-image: linear-gradient(#dcdde1 1px, transparent 1px), linear-gradient(90deg, #dcdde1 1px, transparent 1px);
        background-size: 30px 30px;
        margin: 0;
        padding: 10px; /* Padding reducido */
        color: var(--text-color);
        /* Quitamos min-height: 100vh */
        min-height: auto; 
    }

    .app-container {
        width: 100%;
        /* Reducimos el ancho m√°ximo para asegurar que cabe en la columna de eXeLearning */
        max-width: 750px; 
        margin: 0 auto; /* Centrado simple */
        background: var(--color-card);
        border-radius: 20px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        padding: 20px;
        border: 4px solid #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
        box-sizing: border-box;
    }

    /* PANTALLA INICIO */
    #start-screen {
        text-align: center;
        width: 100%;
    }

    h1 {
        font-family: 'Escolar', cursive;
        font-weight: bold;
        font-size: 2.5em; /* Ligeramente m√°s peque√±o */
        color: #6c5ce7;
        margin-bottom: 5px;
        text-shadow: 2px 2px 0 #a29bfe;
    }

    .subtitle {
        font-size: 1.3em;
        color: #636e72;
        margin-bottom: 30px;
    }

    .level-container {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .level-btn {
        font-family: 'Escolar', cursive;
        font-weight: bold;
        font-size: 1.5em;
        padding: 15px 25px;
        border: none;
        border-radius: 15px;
        cursor: pointer;
        color: white;
        transition: transform 0.2s, box-shadow 0.2s;
        width: 220px;
        max-width: 100%;
    }

    .level-btn:hover { transform: translateY(-3px); }
    .btn-easy { background-color: var(--color-facil); box-shadow: 0 5px 0 #008f72; }
    .btn-medium { background-color: var(--color-medio); box-shadow: 0 5px 0 #0960a5; }
    .btn-hard { background-color: var(--color-dificil); box-shadow: 0 5px 0 #b71515; }

    /* PANTALLA JUEGO */
    #game-screen {
        display: none;
        width: 100%;
        text-align: center;
    }

    .progress-bar-container {
        width: 100%;
        height: 15px;
        background-color: #dfe6e9;
        border-radius: 10px;
        margin-bottom: 15px;
        overflow: hidden;
    }

    .progress-bar {
        height: 100%;
        background-color: #fdcb6e;
        width: 0%;
        transition: width 0.5s;
    }

    .problem-card {
        background: #fff;
        border: 3px dashed #b2bec3;
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 25px;
        font-size: 1.6em; /* Ajustado para que quepa mejor */
        line-height: 1.3;
        min-height: 120px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
    }
    
    .data-highlight {
        color: #d63031;
        font-weight: bold;
    }

    .options-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
    }

    .option-btn {
        font-family: 'Escolar', cursive;
        font-weight: bold;
        font-size: 1.8em;
        padding: 15px;
        background: white;
        border: 3px solid #6c5ce7;
        border-radius: 15px;
        cursor: pointer;
        color: #6c5ce7;
        transition: all 0.2s;
    }

    .option-btn:hover {
        background: #6c5ce7;
        color: white;
    }

    .feedback {
        margin-top: 15px;
        font-size: 1.8em;
        font-weight: bold;
        height: 40px;
    }
    .feedback.correct { color: #00b894; }
    .feedback.incorrect { color: #d63031; }

    /* PANTALLA RESULTADOS */
    #result-screen {
        display: none;
        text-align: center;
    }

    .score-display {
        font-size: 3.5em;
        color: #6c5ce7;
        margin: 20px 0;
        font-weight: bold;
    }

    .home-btn {
        background-color: #2d3436;
        color: white;
        padding: 12px 25px;
        border-radius: 50px;
        font-size: 1.3em;
        border: none;
        cursor: pointer;
        font-family: 'Escolar', cursive;
        box-shadow: 0 4px 0 #000;
    }
    .home-btn:hover { transform: scale(1.05); }

    .icon { font-size: 1.5em; vertical-align: middle; }

</style>
<div class="app-container"><!-- PANTALLA INICIO -->
<div id="start-screen">
<h1>üßÆ Banco de Problemas</h1>
<p class="subtitle">Actuaci√≥n 2: Resoluci√≥n de Problemas - 1¬∫ Primaria</p>
<p style="font-size: 1.6em; margin-bottom: 20px;">¬°Elige tu nivel!</p>
<div class="level-container"><button class="level-btn btn-easy" onclick="startGame('easy')"> <span class="icon">üîç</span> Explorador<br /><span style="font-size: 0.7em;">(F√°cil)</span> </button> <button class="level-btn btn-medium" onclick="startGame('medium')"> <span class="icon">üïµÔ∏è</span> Detective<br /><span style="font-size: 0.7em;">(Medio)</span> </button> <button class="level-btn btn-hard" onclick="startGame('hard')"> <span class="icon">ü¶∏</span> Experto<br /><span style="font-size: 0.7em;">(Dif√≠cil)</span> </button></div>
<p style="margin-top: 30px; color: #aaa; font-size: 1em;">Cada vez que juegues, ¬°los problemas ser√°n nuevos!</p>
</div>
<!-- PANTALLA JUEGO -->
<div id="game-screen">
<div class="progress-bar-container">
<div class="progress-bar" id="progress-bar"></div>
</div>
<div style="text-align: left; font-size: 1.2em; color: #aaa; margin-bottom: 5px;">Problema <span id="q-number">1</span>/10</div>
<div class="problem-card" id="problem-text"><!-- El texto del problema aparece aqu√≠ --></div>
<div class="options-container" id="options-area"><!-- Botones generados por JS --></div>
<div class="feedback" id="feedback-area"></div>
</div>
<!-- PANTALLA RESULTADOS -->
<div id="result-screen">
<h1>¬°Serie Completada!</h1>
<p style="font-size: 1.8em;">Tu puntuaci√≥n final es:</p>
<div class="score-display"><span id="final-score">0</span> / 10</div>
<div id="final-message" style="font-size: 1.6em; margin-bottom: 30px; color: #0984e3;"></div>
<button class="home-btn" onclick="location.reload()">üîÑ Generar Nueva Serie</button></div>
</div>
<p>
<script>
    // --- MOTOR DE GENERACI√ìN DE PROBLEMAS ---
    const names = ["Mar√≠a", "Juan", "Luc√≠a", "Pedro", "Sof√≠a", "Hugo", "Elena", "Pablo", "Carmen", "Lucas", "Lola", "Dani"];
    
    const items = [
        { name: "cromos", gender: "m", icon: "üÉè" },
        { name: "canicas", gender: "f", icon: "‚ö™" },
        { name: "manzanas", gender: "f", icon: "üçé" },
        { name: "coches", gender: "m", icon: "üöó" },
        { name: "libros", gender: "m", icon: "üìö" },
        { name: "l√°pices", gender: "m", icon: "‚úèÔ∏è" },
        { name: "galletas", gender: "f", icon: "üç™" },
        { name: "globos", gender: "m", icon: "üéà" }
    ];

    let currentSeries = [];
    let currentQuestion = 0;
    let score = 0;
    let isAnswering = false;

    function getRandomInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }
    function getRandomItem(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

    function generateEasy() {
        let type = Math.random() > 0.5 ? 'sum' : 'sub';
        let name = getRandomItem(names);
        let item = getRandomItem(items);
        let problem = {};

        if (type === 'sum') {
            let n1 = getRandomInt(2, 10);
            let n2 = getRandomInt(1, 9);
            let total = n1 + n2;
            problem.text = `${name} tiene <span class="data-highlight">${n1}</span> ${item.name} y su abuela le regala <span class="data-highlight">${n2}</span> m√°s.<br><br>¬øCu√°ntos ${item.name} tiene ahora? ${item.icon}`;
            problem.correct = total;
        } else {
            let n1 = getRandomInt(5, 15);
            let n2 = getRandomInt(1, 4); 
            let total = n1 - n2;
            problem.text = `En una caja hay <span class="data-highlight">${n1}</span> ${item.name}. ${name} saca <span class="data-highlight">${n2}</span>.<br><br>¬øCu√°ntos ${item.name} quedan en la caja? ${item.icon}`;
            problem.correct = total;
        }
        return problem;
    }

    function generateMedium() {
        let scenario = getRandomInt(1, 3);
        let problem = {};
        
        if (scenario === 1) { 
            let n1 = getRandomInt(15, 30);
            let n2 = getRandomInt(5, 15);
            let total = n1 + n2;
            problem.text = `En el autob√∫s del cole van <span class="data-highlight">${n1}</span> ni√±os. En la parada suben <span class="data-highlight">${n2}</span> ni√±os m√°s.<br><br>¬øCu√°ntos ni√±os van ahora en el autob√∫s? üöå`;
            problem.correct = total;
        } else if (scenario === 2) { 
            let price = getRandomInt(10, 40);
            let wallet = price + getRandomInt(5, 20); 
            let change = wallet - price;
            problem.text = `Quiero comprar un juguete que cuesta <span class="data-highlight">${price}</span> euros. Si tengo <span class="data-highlight">${wallet}</span> euros en mi hucha...<br><br>¬øCu√°ntos euros me sobrar√°n? üí∂`;
            problem.correct = change;
        } else { 
            let name1 = getRandomItem(names);
            let name2 = getRandomItem(names);
            while(name1 === name2) name2 = getRandomItem(names);
            let item = getRandomItem(items);
            let n1 = getRandomInt(25, 45);
            let n2 = getRandomInt(10, 20);
            let diff = n1 - n2;
            problem.text = `${name1} tiene <span class="data-highlight">${n1}</span> ${item.name}. ${name2} tiene <span class="data-highlight">${n2}</span> menos que ${name1}.<br><br>¬øCu√°ntos ${item.name} tiene ${name2}?`;
            problem.correct = diff;
        }
        return problem;
    }

    function generateHard() {
        let scenario = getRandomInt(1, 3);
        let problem = {};
        
        if (scenario === 1) { 
            let vacas = getRandomInt(10, 30);
            let cerdos = getRandomInt(10, 30);
            let gallinas = getRandomInt(10, 30);
            let total = vacas + cerdos + gallinas;
            problem.text = `En la granja hay:<br>üêÑ <span class="data-highlight">${vacas}</span> vacas<br>üêñ <span class="data-highlight">${cerdos}</span> cerdos<br>üêì <span class="data-highlight">${gallinas}</span> gallinas.<br><br>¬øCu√°ntos animales hay en TOTAL?`;
            problem.correct = total;
        } else if (scenario === 2) { 
            let totalBook = getRandomInt(50, 90);
            let read = getRandomInt(20, 40);
            let left = totalBook - read;
            problem.text = `Un libro de aventuras tiene <span class="data-highlight">${totalBook}</span> p√°ginas. Si ${getRandomItem(names)} ya ha le√≠do <span class="data-highlight">${read}</span> p√°ginas...<br><br>¬øCu√°ntas le faltan para terminar el libro? üìñ`;
            problem.correct = left;
        } else { 
            let final = getRandomInt(20, 50);
            let added = getRandomInt(10, 20);
            let initial = final - added;
            problem.text = `No sabemos cu√°ntas canicas ten√≠a ${getRandomItem(names)}, pero ha ganado <span class="data-highlight">${added}</span> y AHORA tiene <span class="data-highlight">${final}</span>.<br><br>¬øCu√°ntas canicas ten√≠a AL PRINCIPIO? ü§î`;
            problem.correct = initial;
        }
        return problem;
    }

    function generateOptions(correctAnswer) {
        let options = [correctAnswer];
        while (options.length < 3) {
            let offset = getRandomInt(-10, 10);
            let fake = correctAnswer + offset;
            if (fake > 0 && !options.includes(fake)) {
                options.push(fake);
            }
        }
        return options.sort(() => Math.random() - 0.5);
    }

    function startGame(level) {
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('game-screen').style.display = 'block';
        score = 0;
        currentQuestion = 0;
        currentSeries = [];

        for(let i=0; i<10; i++) {
            let p;
            if(level === 'easy') p = generateEasy();
            if(level === 'medium') p = generateMedium();
            if(level === 'hard') p = generateHard();
            p.options = generateOptions(p.correct);
            currentSeries.push(p);
        }
        renderQuestion();
    }

    function renderQuestion() {
        isAnswering = false;
        let q = currentSeries[currentQuestion];
        document.getElementById('q-number').innerText = currentQuestion + 1;
        document.getElementById('progress-bar').style.width = ((currentQuestion) * 10) + "%";
        document.getElementById('problem-text').innerHTML = q.text;
        document.getElementById('feedback-area').innerHTML = "";
        document.getElementById('feedback-area').className = "feedback";
        let optionsHTML = "";
        q.options.forEach(opt => {
            optionsHTML += `<button class="option-btn" onclick="checkAnswer(${opt}, this)">${opt}</button>`;
        });
        document.getElementById('options-area').innerHTML = optionsHTML;
    }

    function checkAnswer(selectedVal, btnElement) {
        if(isAnswering) return;
        isAnswering = true;
        let correctVal = currentSeries[currentQuestion].correct;
        let feedback = document.getElementById('feedback-area');
        if(selectedVal === correctVal) {
            score++;
            btnElement.style.backgroundColor = "#00b894"; 
            btnElement.style.color = "white";
            feedback.innerHTML = "¬°MUY BIEN! üéâ";
            feedback.classList.add("correct");
        } else {
            btnElement.style.backgroundColor = "#d63031"; 
            btnElement.style.color = "white";
            feedback.innerHTML = `¬°Oh no! Era ${correctVal} üßê`;
            feedback.classList.add("incorrect");
        }
        setTimeout(() => {
            currentQuestion++;
            if(currentQuestion < 10) {
                renderQuestion();
            } else {
                showResults();
            }
        }, 2000);
    }

    function showResults() {
        document.getElementById('game-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('final-score').innerText = score;
        let msg = "";
        if(score === 10) msg = "¬°Eres un genio matem√°tico! üèÜ";
        else if(score >= 7) msg = "¬°Fant√°stico trabajo! üåü";
        else if(score >= 5) msg = "¬°Buen trabajo! üëç";
        else msg = "¬°√Ånimo, la pr√≥xima saldr√° mejor! üí™";
        document.getElementById('final-message').innerText = msg;
    }
</script>
</p></div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licencia Creative Commons Reconocimiento Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="infantil.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="1_el_huerto_mgico.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<p id="made-with-eXe"><a href="https://exelearning.net/" target="_blank" rel="noopener"><span>Creado con eXeLearning<span> (Ventana nueva)</span></span></a></p><script type="text/javascript" src="_simplepoint_js.js"></script></body></html>