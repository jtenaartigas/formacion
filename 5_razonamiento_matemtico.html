<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>5¬∫ Razonamiento matem√°tico | Formaci√≥n en Centros - Ceip Joaqu√≠n Tena Artigas </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Ceip Joaqu√≠n Tena Artigas de Alcolea (C√≥rdoba)" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.9 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-17"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegaci√≥n</a></p>
<header id="header" ><div id="headerContent">Formaci√≥n en Centros - Ceip Joaqu√≠n Tena Artigas</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Inicio</a></li>
   <li><a href="formacin_en_centros_2425.html" class="daddy">Formaci√≥n en Centros 24-25</a>
   <ul class="other-section">
      <li><a href="itinerario_infantil.html" class="no-ch">Itinerario Infantil</a></li>
      <li><a href="itinerario_1_ciclo.html" class="no-ch">Itinerario 1¬∫ Ciclo</a></li>
      <li><a href="itinerario_2_ciclo.html" class="no-ch">Itinerario 2¬∫ Ciclo</a></li>
      <li><a href="itinerario_3_ciclo.html" class="no-ch">Itinerario 3¬∫ Ciclo</a></li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="formacin_en_centros_2526.html" class="current-page-parent daddy">Formaci√≥n en Centros 25-26</a>
   <ul>
      <li><a href="infantil.html" class="no-ch">Infantil</a></li>
      <li><a href="1_razonamiento_matemtico.html" class="no-ch">1¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="1_comprensin_lectora.html" class="no-ch">1¬∫ Comprensi√≥n lectora</a></li>
      <li><a href="2_razonamiento_matemtico.html" class="no-ch">2¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="seccin.html" class="no-ch">Secci√≥n</a></li>
      <li><a href="3_razonamiento_matemtico.html" class="no-ch">3¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="seccin0.html" class="no-ch">Secci√≥n</a></li>
      <li><a href="4_razonamiento_matemtico.html" class="no-ch">4¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="seccin1.html" class="no-ch">Secci√≥n</a></li>
      <li id="active"><a href="5_razonamiento_matemtico.html" class="active no-ch">5¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="seccin2.html" class="no-ch">Secci√≥n</a></li>
      <li><a href="6_razonamiento_matemtico.html" class="no-ch">6¬∫ Razonamiento matem√°tico</a></li>
      <li><a href="seccin3.html" class="no-ch">Secci√≥n</a></li>
   </ul>
   </li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="seccin1.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="seccin2.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">5¬∫ Razonamiento matem√°tico</h1></header>
<article class="iDevice_wrapper textIdevice" id="id49">
<div class="iDevice emphasis0" >
<div id="ta49_150_2" class="block iDevice_content">
<div class="exe-text"><p></p>
<style>
    /* IMPORTACI√ìN DE FUENTES */
    @font-face {
        font-family: 'Escolar';
        src: url('Escolar_G.TTF') format('truetype');
        font-weight: normal;
    }
    @font-face {
        font-family: 'Escolar';
        src: url('Escolar_N.TTF') format('truetype');
        font-weight: bold;
    }

    :root {
        /* Paleta 5¬∫ Primaria: Tonos m√°s "serios" y acad√©micos */
        --color-facil: #10ac84; /* Verde esmeralda */
        --color-medio: #2e86de; /* Azul brillante */
        --color-dificil: #ee5253; /* Rojo anaranjado */
        --color-bg: #c8d6e5;
        --color-card: #ffffff;
        --text-color: #222f3e;
    }

    body {
        font-family: 'Escolar', 'Comic Sans MS', cursive, sans-serif;
        background-color: var(--color-bg);
        /* Fondo de papel milimetrado sutil */
        background-image: 
            linear-gradient(#8395a7 1px, transparent 1px),
            linear-gradient(90deg, #8395a7 1px, transparent 1px);
        background-size: 20px 20px;
        background-position: center top;
        margin: 0;
        padding: 10px;
        color: var(--text-color);
        min-height: auto; 
    }

    .app-container {
        width: 100%;
        max-width: 800px; /* Un poco m√°s ancho para problemas largos */
        margin: 0 auto;
        background: var(--color-card);
        border-radius: 15px; /* Bordes menos redondeados, m√°s "tech" */
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        padding: 30px;
        border: 4px solid #576574;
        display: flex;
        flex-direction: column;
        align-items: center;
        box-sizing: border-box;
    }

    /* PANTALLA INICIO */
    #start-screen {
        text-align: center;
        width: 100%;
    }

    h1 {
        font-family: 'Escolar', cursive;
        font-weight: bold;
        font-size: 2.8em;
        color: #222f3e;
        margin-bottom: 5px;
        text-transform: uppercase;
        letter-spacing: 2px;
        border-bottom: 3px solid #222f3e;
        display: inline-block;
        padding-bottom: 10px;
    }

    .subtitle {
        font-size: 1.5em;
        color: #576574;
        margin-bottom: 40px;
        font-weight: bold;
    }

    .level-container {
        display: flex;
        gap: 20px;
        justify-content: center;
        flex-wrap: wrap;
    }

    /* BOTONES NIVEL */
    .level-btn {
        font-family: 'Escolar', cursive;
        font-weight: bold;
        font-size: 1.3em;
        padding: 20px;
        border-radius: 10px;
        cursor: pointer;
        color: white;
        transition: all 0.2s;
        width: 220px;
        max-width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        text-align: center;
        user-select: none;
        border: 2px solid rgba(0,0,0,0.1);
    }

    .level-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 15px rgba(0,0,0,0.2); }
    
    .btn-easy { background-color: var(--color-facil); }
    .btn-medium { background-color: var(--color-medio); }
    .btn-hard { background-color: var(--color-dificil); }

    .icon-level { font-size: 2.2em; margin-bottom: 10px; display: block; line-height: 1; }
    .text-level { display: block; width: 100%; }

    /* PANTALLA JUEGO */
    #game-screen {
        display: none;
        width: 100%;
        text-align: center;
    }

    .header-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        width: 100%;
        font-size: 1.2em;
        color: #576574;
        border-bottom: 1px solid #c8d6e5;
        padding-bottom: 10px;
    }

    .progress-bar-container {
        width: 100%;
        height: 10px;
        background-color: #c8d6e5;
        border-radius: 5px;
        margin-bottom: 25px;
        overflow: hidden;
    }

    .progress-bar {
        height: 100%;
        background-color: #222f3e;
        width: 0%;
        transition: width 0.5s;
    }

    .problem-card {
        background: #f1f2f6;
        border-left: 5px solid #222f3e;
        border-radius: 5px;
        padding: 30px;
        margin-bottom: 30px;
        font-size: 1.6em;
        line-height: 1.5;
        min-height: 150px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        text-align: left; /* Alineaci√≥n izquierda para problemas largos */
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    .data-highlight {
        color: #d63031;
        font-weight: bold;
        background: #ffcccc;
        padding: 0 5px;
        border-radius: 3px;
    }

    .options-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 15px;
        margin-bottom: 15px;
    }

    .option-btn {
        font-family: 'Escolar', cursive;
        font-weight: bold;
        font-size: 1.6em;
        padding: 15px;
        background: white;
        border: 2px solid #576574;
        border-radius: 8px;
        cursor: pointer;
        color: #576574;
        transition: all 0.2s;
    }

    .option-btn:hover {
        background: #576574;
        color: white;
    }
    
    .feedback {
        margin-top: 15px;
        font-size: 2em;
        font-weight: bold;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .feedback.correct { color: var(--color-facil); }
    .feedback.incorrect { color: var(--color-dificil); }

    /* PANTALLA RESULTADOS */
    #result-screen {
        display: none;
        text-align: center;
    }

    .score-box {
        background: #222f3e;
        color: white;
        padding: 20px 40px;
        border-radius: 10px;
        font-size: 4em;
        font-weight: bold;
        display: inline-block;
        margin: 30px 0;
        box-shadow: 0 10px 0 #000;
    }

    .home-btn {
        background-color: #2e86de;
        color: white;
        padding: 15px 40px;
        border-radius: 8px;
        font-size: 1.5em;
        border: none;
        cursor: pointer;
        font-family: 'Escolar', cursive;
        box-shadow: 0 5px 0 #0984e3;
        margin-top: 20px;
        transition: transform 0.1s;
    }
    .home-btn:hover { transform: translateY(-2px); }
    .home-btn:active { transform: translateY(2px); box-shadow: none; }

</style>
<div class="app-container"><!-- PANTALLA INICIO -->
<div id="start-screen">
<h1>üìê Mates 5¬∫ Primaria</h1>
<p class="subtitle">Resoluci√≥n de Problemas Avanzados</p>
<p style="font-size: 1.6em; margin-bottom: 30px;">Selecciona nivel de dificultad:</p>
<div class="level-container"><!-- NIVEL 1 -->
<div class="level-btn btn-easy" onclick="startGame('easy')"><span class="icon-level">üèóÔ∏è</span>
<div class="text-level">Arquitecto<br /><span style="font-size: 0.7em; font-weight: normal;">Decimales y Per√≠metros</span></div>
</div>
<!-- NIVEL 2 -->
<div class="level-btn btn-medium" onclick="startGame('medium')"><span class="icon-level">üïµÔ∏è</span>
<div class="text-level">Investigador<br /><span style="font-size: 0.7em; font-weight: normal;">L√≥gica y √Åreas</span></div>
</div>
<!-- NIVEL 3 -->
<div class="level-btn btn-hard" onclick="startGame('hard')"><span class="icon-level">üè¶</span>
<div class="text-level">Banquero<br /><span style="font-size: 0.7em; font-weight: normal;">Grandes Cifras y %</span></div>
</div>
</div>
<p style="margin-top: 40px; color: #aaa; font-size: 1em;">Basado en est√°ndares de 5¬∫ de Primaria.</p>
</div>
<!-- PANTALLA JUEGO -->
<div id="game-screen">
<div class="header-info"><span>Nivel: <span id="level-label" style="font-weight: bold;"></span></span> <span>Ejercicio <span id="q-number">1</span>/10</span></div>
<div class="progress-bar-container">
<div class="progress-bar" id="progress-bar"></div>
</div>
<div class="problem-card" id="problem-card">
<div id="problem-text"></div>
</div>
<div class="options-container" id="options-area"></div>
<div class="feedback" id="feedback-area"></div>
</div>
<!-- PANTALLA RESULTADOS -->
<div id="result-screen">
<h1>¬°Serie Finalizada!</h1>
<p style="font-size: 1.6em;">Puntuaci√≥n obtenida:</p>
<div class="score-box"><span id="final-score">0</span>/10</div>
<div id="final-message" style="font-size: 1.6em; margin-bottom: 20px; color: #222f3e;"></div>
<button class="home-btn" onclick="location.reload()">üîÑ Nuevo Entrenamiento</button></div>
</div>
<p>
<script>
    // --- DATOS Y CONTEXTOS ---
    const names = ["Adri√°n", "Marina", "Carlos", "Sara", "Javi", "Laura", "Pablo", "Irene"];
    
    // Series l√≥gicas (para nivel medio)
    const sequences = [
        { seq: [2, 4, 8, 16], next: 32, rule: "doble" },
        { seq: [5, 10, 15, 20], next: 25, rule: "suma 5" },
        { seq: [100, 90, 80, 70], next: 60, rule: "resta 10" },
        { seq: [1, 4, 9, 16], next: 25, rule: "cuadrados" }, // Nivel alto
        { seq: [3, 6, 12, 24], next: 48, rule: "doble" }
    ];

    let currentSeries = [];
    let currentQuestion = 0;
    let score = 0;
    let isAnswering = false;

    // --- FUNCIONES AUXILIARES ---
    function getRandomInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }
    function getRandomItem(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
    function formatMoney(amount) { return amount.toFixed(2).replace('.', ','); }

    // --- GENERADORES DE PROBLEMAS (5¬∫ PRIMARIA) ---

    // NIVEL 1: ARQUITECTO (Decimales, Per√≠metros, Tiempo)
    function generateEasy() {
        let scenario = getRandomInt(1, 3);
        let problem = {};
        
        if (scenario === 1) { // Decimales (Dinero, cambio)
            let precio = getRandomInt(150, 450) / 100; // 1.50 - 4.50
            let cantidad = getRandomInt(3, 8);
            let total = precio * cantidad;
            let pago = Math.ceil(total / 10) * 10; // Billete cercano
            if (pago < total) pago += 10;
            
            let vuelta = pago - total;
            problem.text = `Compramos <span class="data-highlight">${cantidad}</span> cuadernos a <span class="data-highlight">${formatMoney(precio)} ‚Ç¨</span> cada uno. Pagamos con un billete de <span class="data-highlight">${pago} ‚Ç¨</span>.<br><br>¬øCu√°nto nos devuelven?`;
            problem.correct = parseFloat(vuelta.toFixed(2));
        } else if (scenario === 2) { // Per√≠metro (Rect√°ngulo)
            let base = getRandomInt(20, 60); // m
            let altura = getRandomInt(10, 30); // m
            let perimetro = 2 * (base + altura);
            
            problem.text = `Queremos vallar una finca rectangular de <span class="data-highlight">${base} m</span> de largo y <span class="data-highlight">${altura} m</span> de ancho.<br><br>¬øCu√°ntos metros de valla necesitamos?`;
            problem.correct = perimetro;
        } else { // Tiempo (Horas y minutos)
            let hSalida = getRandomInt(8, 18);
            let mSalida = getRandomInt(0, 5) * 10; // 00, 10, 20...
            let duracion = getRandomInt(45, 130); // min
            
            // Calculamos llegada
            let totalMin = hSalida * 60 + mSalida + duracion;
            let hLlegada = Math.floor(totalMin / 60);
            let mLlegada = totalMin % 60;
            
            // Formato 00
            let mStr = mLlegada < 10 ? "0" + mLlegada : mLlegada;
            let mSalStr = mSalida < 10 ? "0" + mSalida : mSalida;
            
            problem.text = `Un tren sale a las <span class="data-highlight">${hSalida}:${mSalStr}</span> y el viaje dura <span class="data-highlight">${duracion}</span> minutos.<br><br>¬øA qu√© hora llega a su destino?`;
            problem.correct = `${hLlegada}:${mStr}`;
            // Hack para opciones de tiempo (string)
            problem.isTime = true;
        }
        return problem;
    }

    // NIVEL 2: INVESTIGADOR (√Åreas, L√≥gica, Fracciones de cantidad)
    function generateMedium() {
        let scenario = getRandomInt(1, 3);
        let problem = {};
        
        if (scenario === 1) { // √Årea (Rect√°ngulo/Cuadrado) - Contexto Pintura/Suelo
            let lado1 = getRandomInt(4, 10);
            let lado2 = getRandomInt(4, 10);
            let area = lado1 * lado2;
            
            problem.text = `Queremos poner parqu√© en una habitaci√≥n de <span class="data-highlight">${lado1} m</span> por <span class="data-highlight">${lado2} m</span>. Cada metro cuadrado cuesta 10 ‚Ç¨.<br><br>¬øCu√°ntos metros cuadrados (m¬≤) de madera necesitamos comprar?`;
            problem.correct = area; // Preguntamos por √°rea, no precio, para simplificar a 5¬∫
        } else if (scenario === 2) { // Series L√≥gicas (Inducci√≥n)
            let start = getRandomInt(2, 10);
            let step = getRandomInt(2, 5);
            let s1 = start;
            let s2 = start + step;
            let s3 = start + step*2;
            let s4 = start + step*3;
            let next = start + step*4;
            
            problem.text = `Descubre la regla y contin√∫a la serie:<br><br><strong>${s1} - ${s2} - ${s3} - ${s4} - ...</strong>`;
            problem.correct = next;
        } else { // Fracci√≥n de una cantidad (Problema inverso)
            let total = getRandomInt(200, 500); // Dep√≥sito
            let den = 5; 
            total = Math.floor(total / den) * den; // M√∫ltiplo de 5
            let gastado = (total / 5) * 2; // 2/5 gastados
            let queda = total - gastado;
            
            problem.text = `Un dep√≥sito tiene <span class="data-highlight">${total}</span> litros. Se han gastado las <span class="data-highlight">dos quintas partes (2/5)</span>.<br><br>¬øCu√°ntos litros quedan en el dep√≥sito?`;
            problem.correct = queda;
        }
        return problem;
    }

    // NIVEL 3: BANQUERO (Grandes n√∫meros, Combinatoria, Problemas complejos)
    function generateHard() {
        let scenario = getRandomInt(1, 3);
        let problem = {};
        
        if (scenario === 1) { // Grandes n√∫meros (Poblaci√≥n/Ventas)
            let base = getRandomInt(100000, 500000);
            let op1 = getRandomInt(50000, 100000);
            let op2 = getRandomInt(20000, 50000);
            let res = base + op1 - op2;
            
            problem.text = `Una ciudad ten√≠a <span class="data-highlight">${base.toLocaleString()}</span> habitantes. En un a√±o nacieron <span class="data-highlight">${op1.toLocaleString()}</span> beb√©s y fallecieron <span class="data-highlight">${op2.toLocaleString()}</span> personas.<br><br>¬øCu√°l es la poblaci√≥n actual?`;
            problem.correct = res;
        } else if (scenario === 2) { // Combinatoria (Ropa/Men√∫)
            let a = getRandomInt(3, 5); // Primeros/Camisetas
            let b = getRandomInt(3, 5); // Segundos/Pantalones
            let c = getRandomInt(2, 3); // Postres/Zapatos
            let total = a * b * c;
            
            problem.text = `En un restaurante hay <span class="data-highlight">${a}</span> primeros platos, <span class="data-highlight">${b}</span> segundos y <span class="data-highlight">${c}</span> postres.<br><br>¬øCu√°ntos men√∫s diferentes se pueden formar?`;
            problem.correct = total;
        } else { // Problema de edades (L√≥gica temporal)
            let edadYo = getRandomInt(9, 12);
            let diferencia = getRandomInt(20, 30); // Edad madre
            let edadMadre = edadYo + diferencia;
            let futuro = getRandomInt(5, 10);
            let sumaFutura = (edadYo + futuro) + (edadMadre + futuro);
            
            problem.text = `Yo tengo <span class="data-highlight">${edadYo}</span> a√±os y mi madre tiene <span class="data-highlight">${edadMadre}</span>. <br><br>¬øCu√°nto sumar√°n nuestras edades dentro de <span class="data-highlight">${futuro}</span> a√±os?`;
            problem.correct = sumaFutura;
        }
        return problem;
    }

    function generateOptions(correctAnswer, isTime = false) {
        let options = new Set();
        options.add(correctAnswer);
        
        while (options.size < 3) {
            if (isTime) {
                // Generar horas falsas
                let parts = correctAnswer.split(':');
                let h = parseInt(parts[0]);
                let m = parseInt(parts[1]);
                let offsetH = getRandomInt(-1, 1);
                let offsetM = getRandomInt(-10, 10);
                if (offsetH === 0 && offsetM === 0) offsetM = 10;
                
                let fakeH = h + offsetH;
                let fakeM = m + offsetM;
                // Ajustes b√°sicos de reloj
                if (fakeM >= 60) { fakeM -= 60; fakeH++; }
                if (fakeM < 0) { fakeM += 60; fakeH--; }
                
                let mStr = fakeM < 10 ? "0" + fakeM : fakeM;
                options.add(`${fakeH}:${mStr}`);
            } else {
                // Errores num√©ricos
                let val = parseFloat(correctAnswer);
                let fake;
                let errorType = getRandomInt(1, 3);
                
                if (errorType === 1) fake = val + getRandomInt(-5, 5);
                else if (errorType === 2) fake = val + (val * 0.1); // +10%
                else fake = val - (val * 0.1); // -10%
                
                // Redondear decimales si es necesario
                if (!Number.isInteger(val)) fake = parseFloat(fake.toFixed(2));
                else fake = Math.round(fake);

                if (fake > 0 && fake !== val) options.add(fake);
            }
        }
        return Array.from(options).sort(() => Math.random() - 0.5);
    }

    // --- L√ìGICA DEL JUEGO ---

    function startGame(level) {
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('game-screen').style.display = 'block';
        
        let label = "";
        if(level === 'easy') label = "Arquitecto";
        if(level === 'medium') label = "Investigador";
        if(level === 'hard') label = "Banquero";
        document.getElementById('level-label').innerText = label;

        score = 0;
        currentQuestion = 0;
        currentSeries = [];

        for(let i=0; i<10; i++) {
            let p;
            if(level === 'easy') p = generateEasy();
            if(level === 'medium') p = generateMedium();
            if(level === 'hard') p = generateHard();
            
            p.options = generateOptions(p.correct, p.isTime);
            currentSeries.push(p);
        }
        renderQuestion();
    }

    function renderQuestion() {
        isAnswering = false;
        let q = currentSeries[currentQuestion];
        
        document.getElementById('q-number').innerText = currentQuestion + 1;
        document.getElementById('progress-bar').style.width = ((currentQuestion) * 10) + "%";
        document.getElementById('problem-text').innerHTML = q.text;
        
        let feedback = document.getElementById('feedback-area');
        feedback.innerHTML = "";
        feedback.className = "feedback";

        let optionsHTML = "";
        q.options.forEach(opt => {
            // Formatear si es n√∫mero grande
            let displayOpt = (typeof opt === 'number' && opt > 9999) ? opt.toLocaleString() : opt;
            // Formatear si es dinero (decimal)
            if (typeof opt === 'number' && !Number.isInteger(opt) && opt < 1000) displayOpt = formatMoney(opt) + " ‚Ç¨";
            
            optionsHTML += `<div class="option-btn" onclick="checkAnswer('${opt}', this)">${displayOpt}</div>`;
        });
        document.getElementById('options-area').innerHTML = optionsHTML;
    }

    function checkAnswer(selectedVal, btnElement) {
        if(isAnswering) return;
        isAnswering = true;

        let q = currentSeries[currentQuestion];
        // Conversi√≥n segura para comparaci√≥n
        let isCorrect = false;
        if (q.isTime) {
            isCorrect = (selectedVal === q.correct);
        } else {
            isCorrect = (parseFloat(selectedVal) === q.correct);
        }

        let feedback = document.getElementById('feedback-area');

        if(isCorrect) {
            score++;
            btnElement.style.backgroundColor = "var(--color-facil)"; 
            btnElement.style.color = "white";
            btnElement.style.borderColor = "var(--color-facil)";
            feedback.innerHTML = "¬°CORRECTO! üéØ";
            feedback.classList.add("correct");
        } else {
            btnElement.style.backgroundColor = "var(--color-dificil)"; 
            btnElement.style.color = "white";
            btnElement.style.borderColor = "var(--color-dificil)";
            let displayCorrect = q.correct;
            if(typeof q.correct === 'number' && !Number.isInteger(q.correct)) displayCorrect = formatMoney(q.correct);
            feedback.innerHTML = `Soluci√≥n: ${displayCorrect}`;
            feedback.classList.add("incorrect");
        }

        setTimeout(() => {
            currentQuestion++;
            if(currentQuestion < 10) {
                renderQuestion();
            } else {
                showResults();
            }
        }, 2500);
    }

    function showResults() {
        document.getElementById('game-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('final-score').innerText = score;
        
        let msg = "";
        if(score === 10) msg = "¬°Excelente! Nivel superado con honores. üèÖ";
        else if(score >= 8) msg = "¬°Muy buen trabajo! Casi perfecto. üöÄ";
        else if(score >= 5) msg = "¬°Aprobado! Pero puedes mejorar. üìö";
        else msg = "Necesitas repasar un poco m√°s. ¬°√Ånimo! üí™";
        
        document.getElementById('final-message').innerText = msg;
    }

</script>
</p></div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licencia Creative Commons Reconocimiento Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="seccin1.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="seccin2.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<p id="made-with-eXe"><a href="https://exelearning.net/" target="_blank" rel="noopener"><span>Creado con eXeLearning<span> (Ventana nueva)</span></span></a></p><script type="text/javascript" src="_simplepoint_js.js"></script></body></html>